Description of database structure
=================================

Table GRAPHS_ITEMS
==================

The table contains list of monitored items belonging to graph.

gitemid		int	; Unique ID
graphid		int	; Graph ID
itemid		int	; Item ID
color		varchar	; Color

Table GRAPHS
============

The table contains list of defined graphs.

graphid		int	; Unique Graph ID
name		varchar	; Name of the graph
width		int	; Width of the graph
height		int	; Height of the graph

Table SYSMAPS_LINKS
===================

The table contains list of connectors between hosts diplayed on network map.

linkid		int	; Unique link ID
sysmapid	int	; Network map ID
shostid1	int	; ID of first host
shostid2	int	; ID of second host

Table SYSMAPS_HOSTS
===================

The table contains definition of host displayed on network map.

shostid		int	; Unique ID
sysmapid	int	; Network map ID
hostid		int	; Host ID
label		varchar	; Label displayed under host icon
x		int	; Coordinate X
y		int	; Coordinate Y

Table SYSMAPS
=============

The table contains list of defined network maps

sysmapid	int	; Unique network Map ID
name		varchar	; Name of network map
width		int	; Width of the network map
height		int	; Height of the network map

Table ACTIONS
=============

The table contains list of actions to be applied if trigger
change its state. 

actionid	int	; Unique action ID
triggerid	int	; Trigger ID
userid		int	; User ID
good		int	;
delay		int	; How ofter sent the message (in sec) 
subject		varchar	; Subject of the message
message		varchar	; The message itself
nextcheck	int	; Time when we should send message next time


Table GROUPS
============

This table contains list of user groups.

STRUCTURE
---------

	groupid		int	; unique ID
	name		varchar	; unique name of the groups

Table ALARMS
============

This table contains history of changes of trigger states.
When a trigger changes its state, new record is added to the table.

STRUCTURE
---------

	triggerid	int	; unique ID
	clock		int	; Timestamp when trigger changed its status
	istrue		int	; if '1' the trigger became true, '0' otherwise


Table FUNCTIONS
===============

The table contains list of simple functions used in trigger expressions.

STRUCTURE
---------

functionid	int	; Unique function ID
itemid		int	; Item ID
triggerid	int	; Trigger ID
lastvalue	double	; Last values
function	varchar	; Function name: LAST, MIN, MAX, PREV, NODATA
parameter	int	; Parameter to function. Ignored if function does not need any parameter

Table HISTORY
=============

This table contains history of values of items.  

STRUCTURE
---------

	itemid	int	; Item ID
	clock	int	; Timestamp
	value	double	; Value of the item at specific time



Table ITEMS
===========

This table contains list of monitored items.

STRUCTURE
---------

	itemid		int	; Unique item ID
	type		int	; Type of item: 0 - Zabbix, 1 - SNMPv1
	snmp_community	varchar ; Name of community for SNMP requests
	snmp_oid	varchar ; Object ID for SNMP requests
	hostid		int	; Host ID
	description	varchar ; Description of the item
	key_		varchar ; Key to be sent to host
	delay		int	; How often we retrieve this item (in sec)
	history		int	; Store only "history" seconds in history table
	lastdelete	int	; Time of last deletion from "history" table
	nextcheck	int	; Time when next value should be retrieved from host
	lastvalue	double	; Last value retrieved from host 
	lastclock	int	; Time when last value was retrieved
	prevvalue	double	; Previous last value
	status		int	; Status of item. 0 - active, 1 - disabled, 2 - trapper, 
				; 3 - not supported by agent 


Table MEDIA
===========

This table contains list of available medias for given user.

STRUCTURE
---------

	mediaid	int	; Unique media ID
	userid	int	; User ID
	type	varchar	; Type of media: EMAIL, EITEMS, EMEDIA
	sendto	varchar	; Address to send email
	active	int	; Status of media. 0 - active, 1 - disbaled


Table TRIGGERS
==============

The table contains list of triggers.

STRUCTURE
---------

	triggerid	int	; Unique trigger ID
	expression	varchar	; Expression for trigger
	description	varchar	; Description of trigger
	istrue		int	; 1 if expression is true, 2 - disabled, 0 - false
	lastcheck	int	; Time when trigger expression was recalculated 
	priority	int	; 
	lastchange	int	; Time when istrue was changed
	comments	blob	; Comments


Table USERS
===========

The table contains list of Zabbix's users. 

STRUCTURE
---------

	userid	int	; Unique user ID
	groupid	int	; Groupd ID the user belongs to
	name	varchar	; Name of user
	surname	varchar	; Surname
	alias	varchar	; User's alias
	passwd	varchar	; User's password

Table HOSTS 
===========

The table contains list of monitored Hosts

STRUCTURE
---------

	hostid		int	; Unique host ID
	host		varchar	; Host name of IP address
	status		int	; Host status. 0 - monitored, 1 - not monitored

Table ITEMS_TEMPLATE
====================

The table contains list of supported items for each platform

STRUCTURE
---------

	itemtemplateid	int	; Unique ID of item template
	description	varchar	; Item description
	key_		int	; Key to sent to host
	delay		int	; How often we sent the key (in sec)


Table TRIGGERS_TEMPLATE
====================

The table contains sample list of triggers for each template item

STRUCTURE
---------

	triggertemplateid	int	; Unique ID of trigger template
	itemtemplateid		int	; ID of item template the trigger belongs to
	description		varchar	; Trigger description
	expression		varchar	; Expression for trigger
